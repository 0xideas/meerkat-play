@(articles: List[meerkat.PageGeneratorAppl.Article], headlines: List[meerkat.MeerkatControllerTypes.CandidateGenerateeId])

<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Demo</title>

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href='./public/stylesheets/plugins.css' rel="stylesheet" type="text/css" />
<link href='./public/stylesheets/style.css' rel="stylesheet" type="text/css"/>
<style type="text/css">
#freecssfooter{display:block;width:100%;padding:120px 0 20px;overflow:hidden;background-color:transparent;z-index:5000;text-align:center;}
#freecssfooter div#fcssholder div{display:none;}
#freecssfooter div#fcssholder div:first-child{display:block;}
#freecssfooter div#fcssholder div:first-child a{float:none;margin:0 auto;}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script   type="text/javascript", language="javascript">

  function updateInternal(id, headlines){
    let preprocess = headlines.split("CandidateGenerateeId(").slice(1).map(i => i.split(","))
    let articleIds = preprocess.map(i =>  parseInt(i.slice(0,1)[0]))
    let headlineIds = preprocess.map(i => (i.slice(1)[0])).map(i => eval(i.replace("List(", "[").replace("))", "]")))
    let arr2 = []
    for(i = 0; i < articleIds.length; i++) {arr2.push({"articleId": articleIds[i], "generateeIds": headlineIds[i]})}
    $.ajax({
      url:"http://localhost:9000/update",
      type:"POST",
      data:JSON.stringify({ articleId: id, headlines: arr2 }),
      contentType:"application/json; charset=utf-8",
      dataType:"json",
      fail: function(){alert( "Error");}
    })
  };
  function checkifitWorks(a){
    return(a)
  };
</script>
</head>
<body>

<div id="preloader" style="display: none;"><img class="preloader" src="./public/images/loader.gif" alt="website template image" style="display: none;"></div>
<div id="wrapper">
  <div class="header-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="logo"><a ><img src="./public/images/logo.png" alt="website template image"></a></div>
        </div>
      </div>
    </div>
  </div>
  <header class="header">
    <div class="container">
      <nav class="navbar navbar-inverse navbar-toggleable-md">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#cloapediamenu" aria-controls="cloapediamenu" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
      </nav>
    </div>
  </header>
  <section class="section first-section">
    <div class="container-fluid">
      <div class="masonry-blog clearfix">
        <div class="left-side">
          <div class="masonry-box post-media"><img src=@{articles(0).image} style="max-width:100%;max-height:100%;" alt="website template image" class="img-fluid">
            <div class="shadoweffect">
              <div class="shadow-desc">
                <div class="blog-meta" )>
                  <h4><a href="" data-articleid=@{articles(0).id} data-headlines=@{headlines} onclick="updateInternal(this.getAttribute('data-articleid'), this.getAttribute('data-headlines'))" class="article">@{articles(0).headline}</a></h4>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="center-side">
          <div class="masonry-box small-box post-media"><img src=@{articles(1).image} style="max-width:100%;max-height:100%;" alt="website template image" class="img-fluid">
            <div class="shadoweffect">
              <div class="shadow-desc">
                <div class="blog-meta">
                  <h4><a href="" data-articleid=@{articles(1).id} data-headlines=@{headlines} onclick="updateInternal(this.getAttribute('data-articleid'), this.getAttribute('data-headlines'))" class="article">@{articles(1).headline}</a></h4>

                </div>
              </div>
            </div>
          </div>
          <div class="masonry-box small-box post-media"><img src=@{articles(2).image} style="max-width:100%;max-height:100%;" alt="website template image" class="img-fluid">
            <div class="shadoweffect">
              <div class="shadow-desc">
                <div class="blog-meta">
                  <h4><a href="" data-articleid=@{articles(2).id} data-headlines=@{headlines} onclick="updateInternal(this.getAttribute('data-articleid'), this.getAttribute('data-headlines'))" class="article">@{articles(2).headline}</a></h4>
                </div>
              </div>
            </div>
          </div>
          <div class="masonry-box small-box post-media"><img src=@{articles(3).image} style="max-width:98%;max-height:100%;" alt="website template image" class="img-fluid">
            <div class="shadoweffect">
              <div class="shadow-desc">
                <div class="blog-meta">
                  <h4><a href="" data-articleid=@{articles(3).id} data-headlines=@{headlines} onclick="updateInternal(this.getAttribute('data-articleid'), this.getAttribute('data-headlines'))" class="article">@{articles(3).headline}</a></h4>
                </div>
              </div>
            </div>
          </div>
          <div class="masonry-box small-box post-media"><img src=@{articles(4).image} style="max-width:100%;max-height:100%;" alt="website template image" class="img-fluid">
            <div class="shadoweffect">
              <div class="shadow-desc">
                <div class="blog-meta">
                  <h4><a href="" data-articleid=@{articles(4).id} data-headlines=@{headlines} onclick="updateInternal(this.getAttribute('data-articleid'), this.getAttribute('data-headlines'))" class="article">@{articles(4).headline}</a></h4>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="right-side hidden-md-down">
          <div class="masonry-box post-media"><img src=@{articles(5).image} style="max-width:100%;max-height:100%;" alt="website template image" class="img-fluid">
            <div class="shadoweffect">
              <div class="shadow-desc">
                <div class="blog-meta">
                  <h4><a href="" data-articleid=@{articles(5).id} data-headlines=@{headlines} onclick="updateInternal(this.getAttribute('data-articleid'), this.getAttribute('data-headlines'))" class="article">@{articles(5).headline}</a></h4>
                  <small></small></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <br>
    <br>
    <br><br><br>
  </section>
   <footer class="footer" style="opacity:0.1;">
    
  </footer>
</div>
<div id="freecssfooter">
  <div id="fcssholder">
    <div id="bsap_2365" class="bsarocks bsap_b893e54e42ad5b76e7b252f59be18e67"></div>
  </div>
</div>
<script type="text/javascript">
var gaProperty = 'UA-120201777-1';var disableStr = 'ga-disable-' + gaProperty;if (document.cookie.indexOf(disableStr + '=true') > -1) {window[disableStr] = true;}
function gaOptout(){document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2045 23:59:59 UTC; path=/';window[disableStr] = true;alert('Google Tracking has been deactivated');}
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-120201777-1', 'auto');ga('set', 'anonymizeIp', true);ga('send', 'pageview');
</script>

</body>
</html>
